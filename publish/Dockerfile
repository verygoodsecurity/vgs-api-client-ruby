FROM ruby:3.1.1-alpine3.15

ARG GEM_VGS_PUBLISH_TOKEN
ARG LIB_VERSION

ENV GEM_VGS_PUBLISH_TOKEN=$GEM_VGS_PUBLISH_TOKEN
ENV LIB_VERSION=$LIB_VERSION

WORKDIR /src

ENTRYPOINT ["sh", "publish/build_and_publish.sh"]